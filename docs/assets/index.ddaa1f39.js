import{d as q,r as U,c as T,u as W,N as j,o as k,a as S,b as l,w as c,l as b,_ as F,e,t as K,f as w,p as H,g as z,h as G,i as M,j as J,k as Q,m as Y,n as Z,q as ee,s as te,v as $,x as ne,y as le,z as oe,A as ae,B as se,C as re,D as ie,E as ue}from"./vendor.94492516.js";const ce=function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))d(a);new MutationObserver(a=>{for(const v of a)if(v.type==="childList")for(const _ of v.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&d(_)}).observe(document,{childList:!0,subtree:!0});function t(a){const v={};return a.integrity&&(v.integrity=a.integrity),a.referrerpolicy&&(v.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?v.credentials="include":a.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function d(a){if(a.ep)return;a.ep=!0;const v=t(a);fetch(a.href,v)}};ce();const de="modulepreload",C={},pe="/systemctl-quick/",O=function(m,t){return!t||t.length===0?m():Promise.all(t.map(d=>{if(d=`${pe}${d}`,d in C)return;C[d]=!0;const a=d.endsWith(".css"),v=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${v}`))return;const _=document.createElement("link");if(_.rel=a?"stylesheet":de,a||(_.as="script",_.crossOrigin=""),_.href=d,document.head.appendChild(_),a)return new Promise((x,h)=>{_.addEventListener("load",x),_.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>m())};var ve=(y,m)=>{const t=y.__vccOpts||y;for(const[d,a]of m)t[d]=a;return t};const V=y=>(H("data-v-58599cfc"),y=y(),z(),y),_e={"m-auto":"","w-700px":""},fe={"w-full":"",flex:"~ gap2"},me=w(" Select Exist "),ye=w(" Unit "),ge=w(" Services "),he=V(()=>e("div",{"inline-flex":"","items-center":""},[w(" Type "),e("a",{href:"https://www.freedesktop.org/software/systemd/man/systemd.service.html#Type=",target:"_blank"},[e("div",{"i-carbon:help-filled":""})])],-1)),be=V(()=>e("table",{"w-full":"",relative:"",top:"-5",class:"table",summary:"Exit causes and the effect of the Restart= settings"},[e("thead",null,[e("tr",null,[e("th",null,"Restart settings/Exit causes"),e("th",null,"no"),e("th",null,"always"),e("th",null,"on-success"),e("th",null,"on-failure"),e("th",null,"on-abnormal"),e("th",null,"on-abort"),e("th",null,"on-watchdog")])]),e("tbody",null,[e("tr",null,[e("td",null,"Clean exit code or signal"),e("td"),e("td",null,"X"),e("td",null,"X"),e("td"),e("td"),e("td"),e("td")]),e("tr",null,[e("td",null,"Unclean exit code"),e("td"),e("td",null,"X"),e("td"),e("td",null,"X"),e("td"),e("td"),e("td")]),e("tr",null,[e("td",null,"Unclean signal"),e("td"),e("td",null,"X"),e("td"),e("td",null,"X"),e("td",null,"X"),e("td",null,"X"),e("td")]),e("tr",null,[e("td",null,"Timeout"),e("td"),e("td",null,"X"),e("td"),e("td",null,"X"),e("td",null,"X"),e("td"),e("td")]),e("tr",null,[e("td",null,"Watchdog"),e("td"),e("td",null,"X"),e("td"),e("td",null,"X"),e("td",null,"X"),e("td"),e("td",null,"X")])])],-1)),xe=w(" Install "),ke={"mt-2":""},we=q({setup(y){const m=U(null),t=U({name:"",unit:{description:"",after:["network.target"]},services:{type:"simple",workingDirectory:"",execStart:"",execStop:"",restart:"on-failure",restartSec:"",environment:[]},install:{wantedBy:["multi-user.target"],requiredBy:[]}}),d={name:{required:!0,trigger:"input"},unit:{description:{required:!0,trigger:"input"}},services:{type:{required:!0,trigger:"input"}}},a=U([{label:"network.target",value:"network.target"},{label:"multi-user.target",value:"multi-user.target"}]),v=T(()=>_(t.value));function _(s){let n="";for(const[r,u]of Object.entries(s))if(r!=="name"){n+=`[${x(r)}]
`;for(const[p,o]of Object.entries(u))if(!(b.exports.isArray(o)&&!o.length)&&!(!b.exports.isArray(o)&&!o))if(p==="environment")for(const f of o)n+=`${x(p)}=${X(`${f.key}=${f.value}`)}
`;else n+=`${x(p)}=${X(o)}
`;n+=`
`}return n}function x(s){return s?s[0].toUpperCase()+s.slice(1):""}function h(s){return s?s[0].toLowerCase()+s.slice(1):""}function X(s){return b.exports.isArray(s)?s.join(" "):s}function I(s){const n=s.split(/\r?\n/),r={};let u="";for(let p of n)if(p=p.trim(),!!p)if(p.startsWith("[")&&p.endsWith("]")){const o=h(p.slice(1,p.length-1));r[o]={},u=o}else{const o=p.indexOf("="),f=h(p.slice(0,o)),g=p.slice(o+1);if(b.exports.isString(t.value[u][f]))r[u][f]=h(g);else if(b.exports.isArray(t.value[u][f]))if(f==="environment"){r[u][f]||(r[u][f]=[]);const[E,D]=g.split("=");r[u][f].push({key:E||"",value:D||""})}else r[u][f]=g.split(" ").map(h)}return r}function N(s,n){var r;for(const[u,p]of Object.entries(s))if(u!=="name")for(const o of Object.keys(p))((r=n==null?void 0:n[u])==null?void 0:r[o])?s[u][o]=n[u][o]:b.exports.isString(t.value[u][o])?s[u][o]="":s[u][o]=[]}const P=W();async function R(s){var n;try{const r=await((n=s.file.file)==null?void 0:n.text()),u=I(r);t.value.name=s.file.name,N(t.value,u)}catch{P.error("Please select a valid 'systemctl service' file")}}return(s,n)=>{const r=G,u=M,p=J,o=Q,f=j,g=Y,E=Z,D=F;return k(),S("div",_e,[l(D,{ref_key:"form",ref:m,"label-width":120,"label-placement":"left",model:t.value,rules:d},{default:c(()=>[l(o,{label:"Name",path:"name"},{default:c(()=>[e("div",fe,[l(r,{value:t.value.name,"onUpdate:value":n[0]||(n[0]=i=>t.value.name=i),"flex-auto":""},null,8,["value"]),l(p,{"flex-1":"","default-upload":!1,"show-file-list":!1,onChange:R},{default:c(()=>[l(u,{type:"primary"},{default:c(()=>[me]),_:1})]),_:1})])]),_:1}),l(f,{"mt-0":"","text-center":""},{default:c(()=>[ye]),_:1}),l(o,{label:"Description",path:"unit.description"},{default:c(()=>[l(r,{value:t.value.unit.description,"onUpdate:value":n[1]||(n[1]=i=>t.value.unit.description=i)},null,8,["value"])]),_:1}),l(f,{"mt-0":"","text-center":""},{default:c(()=>[ge]),_:1}),l(o,{path:"services.type"},{label:c(()=>[he]),default:c(()=>[l(g,{value:t.value.services.type,"onUpdate:value":n[2]||(n[2]=i=>t.value.services.type=i),options:[{label:"simple",value:"simple"},{label:"exec",value:"exec"},{label:"forking",value:"forking"},{label:"oneshot",value:"oneshot"},{label:"dbus",value:"dbus"},{label:"notify",value:"notify"},{label:"idle",value:"idle"}]},null,8,["value"])]),_:1}),l(o,{label:"After",path:"unit.after"},{default:c(()=>[l(g,{value:t.value.unit.after,"onUpdate:value":n[3]||(n[3]=i=>t.value.unit.after=i),filterable:"",multiple:"",tag:"",options:a.value},null,8,["value","options"])]),_:1}),l(o,{label:"WorkingDirectory",path:"services.workingDirectory"},{default:c(()=>[l(r,{value:t.value.services.workingDirectory,"onUpdate:value":n[4]||(n[4]=i=>t.value.services.workingDirectory=i)},null,8,["value"])]),_:1}),l(o,{label:"ExecStart",path:"services.execStart"},{default:c(()=>[l(r,{value:t.value.services.execStart,"onUpdate:value":n[5]||(n[5]=i=>t.value.services.execStart=i)},null,8,["value"])]),_:1}),l(o,{label:"ExecStop",path:"services.execStop"},{default:c(()=>[l(r,{value:t.value.services.execStop,"onUpdate:value":n[6]||(n[6]=i=>t.value.services.execStop=i)},null,8,["value"])]),_:1}),l(o,{label:"Restart",path:"services.restart"},{default:c(()=>[l(g,{value:t.value.services.restart,"onUpdate:value":n[7]||(n[7]=i=>t.value.services.restart=i),options:[{label:"no",value:"no"},{label:"always",value:"always"},{label:"on-success",value:"on-success"},{label:"on-failure",value:"on-failure"},{label:"on-abnormal",value:"on-abnormal"},{label:"on-abort",value:"on-abort"},{label:"on-watchdog",value:"on-watchdog"}]},null,8,["value"])]),_:1}),be,l(o,{label:"RestartSec",path:"services.restartSec"},{default:c(()=>[l(r,{value:t.value.services.restartSec,"onUpdate:value":n[8]||(n[8]=i=>t.value.services.restartSec=i),placeholder:"default 100ms"},null,8,["value"])]),_:1}),l(o,{label:"Environment",path:"services.environment"},{default:c(()=>[l(E,{value:t.value.services.environment,"onUpdate:value":n[9]||(n[9]=i=>t.value.services.environment=i),preset:"pair","key-placeholder":"Environment Key","value-placeholder":"Environment Value"},null,8,["value"])]),_:1}),l(f,{"mt-0":"","text-center":""},{default:c(()=>[xe]),_:1}),l(o,{label:"WantedBy",path:"install.wantedBy"},{default:c(()=>[l(g,{value:t.value.install.wantedBy,"onUpdate:value":n[10]||(n[10]=i=>t.value.install.wantedBy=i),filterable:"",multiple:"",tag:"",options:a.value},null,8,["value","options"])]),_:1}),l(o,{label:"RequiredBy",path:"install.requiredBy"},{default:c(()=>[l(g,{value:t.value.install.requiredBy,"onUpdate:value":n[11]||(n[11]=i=>t.value.install.requiredBy=i),filterable:"",multiple:"",tag:"",options:a.value},null,8,["value","options"])]),_:1}),l(o,{label:"Preview"},{default:c(()=>[e("pre",ke,K(v.value),1)]),_:1})]),_:1},8,["model"])])}}});var Se=ve(we,[["__scopeId","data-v-58599cfc"]]);const $e=[{name:"index",path:"/",component:Se,props:!0},{name:"all",path:"/:all(.*)*",component:()=>O(()=>import("./_...all_.28ddd3fb.js"),["assets/_...all_.28ddd3fb.js","assets/_...all_.5b579b93.css","assets/vendor.94492516.js"]),props:!0},{name:"hi-name",path:"/hi/:name",component:()=>O(()=>import("./_name_.7d01cb29.js"),["assets/_name_.7d01cb29.js","assets/_name_.b56d8a66.css","assets/vendor.94492516.js"]),props:!0}],B=ee(),Ee=te(B),De={"text-xl":"","mt-6":"","inline-flex":"","gap-2":""},Ue={key:0,"i-carbon-moon":""},qe={key:1,"i-carbon-sun":""},Be=e("a",{class:"icon-btn","i-carbon-logo-github":"",rel:"noreferrer",href:"https://github.com/Weilence/systemctl-quick",target:"_blank",title:"GitHub"},null,-1),Xe=q({setup(y){return(m,t)=>(k(),S("nav",De,[e("button",{class:"icon-btn !outline-none",onClick:t[0]||(t[0]=d=>$(Ee)())},[$(B)?(k(),S("div",Ue)):(k(),S("div",qe))]),Be]))}}),Ce={"font-sans":"",p:"y-10"},Oe={text:"center"},Ve=q({setup(y){return(m,t)=>{const d=oe("router-view"),a=Xe,v=se,_=ae;return k(),ne(_,{theme:$(B)?$(le):void 0},{default:c(()=>[l(v,null,{default:c(()=>[e("main",Ce,[l(d),e("div",Oe,[l(a)])])]),_:1})]),_:1},8,["theme"])}}});const A=re(Ve),Ae=ie({history:ue("/systemctl-quick/"),routes:$e});A.use(Ae);const L=document.createElement("meta");L.name="naive-ui-style";document.head.appendChild(L);A.mount("#app");export{ve as _};
